"use strict";(self.webpackChunksandbox_fusion=self.webpackChunksandbox_fusion||[]).push([[3418],{59828:(e,t,s)=>{s.r(t),s.d(t,{assets:()=>c,contentTitle:()=>n,default:()=>_,frontMatter:()=>d,metadata:()=>p,snippet1:()=>r,snippet2:()=>g,toc:()=>o});var a=s(74848),i=s(28453),l=s(27856),u=s(52138);const d={sidebar_position:1},n="Upload & Download Files",p={id:"docs/how-to/run-code/upload-download-files",title:"Upload & Download Files",description:"Both the runcode and runjupyter interfaces support two file-related parameters:",source:"@site/docs/docs/how-to/run-code/upload-download-files.mdx",sourceDirName:"docs/how-to/run-code",slug:"/docs/how-to/run-code/upload-download-files",permalink:"/SandboxFusion/docs/docs/how-to/run-code/upload-download-files",draft:!1,unlisted:!1,editUrl:"https://github.com/bytedance/SandboxFusion/tree/main/docs/docs/docs/how-to/run-code/upload-download-files.mdx",tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1},sidebar:"docSidebar",previous:{title:"Run Code",permalink:"/SandboxFusion/docs/category/run-code"},next:{title:"Jupyter Mode",permalink:"/SandboxFusion/docs/docs/how-to/run-code/jupyter-mode"}},c={},r=String.raw`import json
import base64
import requests

with open('flag.txt', 'rb') as f:
    content = f.read()
base64_content = base64.b64encode(content).decode('utf-8')

response = requests.post('${l.A.host}/run_code', json={
    'code': 'print(open("flag.txt").read())',
    'language': 'python',
    'files': {'flag.txt': base64_content}
})

print(json.dumps(response.json(), indent=2))
`,g=String.raw`import json
import base64
import requests

response = requests.post('${l.A.host}/run_code', json={
    'code': 'open("flag.txt", "w").write("this is a secret")',
    'language': 'python',
    'fetch_files': ['flag.txt']
})

print(json.dumps(response.json(), indent=2))
print(base64.b64decode(response.json()['files']['flag.txt']).decode('utf-8'))
`,o=[{value:"Upload",id:"upload",level:2},{value:"Download",id:"download",level:2}];function h(e){const t={code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,i.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(t.header,{children:(0,a.jsx)(t.h1,{id:"upload--download-files",children:"Upload & Download Files"})}),"\n",(0,a.jsx)(t.p,{children:"Both the run_code and run_jupyter interfaces support two file-related parameters:"}),"\n",(0,a.jsxs)(t.ul,{children:["\n",(0,a.jsx)(t.li,{children:"files: A dictionary of files to be uploaded before code execution, mapping file paths to file contents in base64 format"}),"\n",(0,a.jsx)(t.li,{children:"fetch_files: A list of file paths to be retrieved after code execution"}),"\n"]}),"\n",(0,a.jsx)(t.p,{children:"Since the usage of these parameters is identical, we'll use the run_code interface as an example to demonstrate file upload and download."}),"\n",(0,a.jsx)(t.h2,{id:"upload",children:"Upload"}),"\n","\n",(0,a.jsx)(u.default,{language:"python",children:r}),"\n",(0,a.jsx)(t.p,{children:"Output:"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-json",children:'{\n  "status": "Success",\n  "message": "",\n  "compile_result": null,\n  "run_result": {\n    "status": "Finished",\n    "execution_time": 0.018889427185058594,\n    "return_code": 0,\n    "stdout": "secret flag\\n",\n    "stderr": ""\n  },\n  "executor_pod_name": null,\n  "files": {}\n}\n'})}),"\n",(0,a.jsx)(t.p,{children:"File paths are relative to the script's directory (a randomly generated /tmp/tmpxxxx) by default. You can also specify absolute paths like /tmp/flag.txt. If the specified path doesn't exist, the corresponding folder will be created first."}),"\n",(0,a.jsx)(t.h2,{id:"download",children:"Download"}),"\n","\n",(0,a.jsx)(u.default,{language:"python",children:g}),"\n",(0,a.jsx)(t.p,{children:"Output:"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-json",children:'{\n  "status": "Success",\n  "message": "",\n  "compile_result": null,\n  "run_result": {\n    "status": "Finished",\n    "execution_time": 0.023561477661132812,\n    "return_code": 0,\n    "stdout": "",\n    "stderr": ""\n  },\n  "executor_pod_name": null,\n  "files": {\n    "flag.txt": "dGhpcyBpcyBhIHNlY3JldA=="\n  }\n}\nthis is a secret\n'})}),"\n",(0,a.jsx)(t.p,{children:"The rules for file paths are the same as in the upload section."})]})}function _(e={}){const{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,a.jsx)(t,{...e,children:(0,a.jsx)(h,{...e})}):h(e)}},27856:(e,t,s)=>{s.d(t,{A:()=>i,E:()=>a});const a={FullStackBench:{datasetType:"AutoEvalDataset",datasets:[{id:"full_stack_bench_zh",dataset:"full_stack_bench_zh",huggingFace:{id:"ByteDance/FullStackBench",subset:"zh",split:"test"}},{id:"full_stack_bench_en",dataset:"full_stack_bench_en",huggingFace:{id:"ByteDance/FullStackBench",subset:"en",split:"test"}}]},AutoEval:{datasetType:"AutoEvalDataset",datasets:[{id:"leetcode_sample_python",dataset:"leetcode_sample_python",huggingFace:{id:"sine/LeetCodeSample",subset:"python",split:"test"}}]},HumanEval:{datasetType:"HumanEvalDataset",datasets:[{id:"humaneval_python",dataset:"humaneval_python",huggingFace:{id:"openai/openai_humaneval",split:"test"}}]},MBPP:{datasetType:"MBPPDataset",datasets:[{id:"mbpp",dataset:"mbpp",huggingFace:{id:"laylarsssss/FusedMBPP",split:"test"}}]},MHPP:{datasetType:"MHPPDataset",datasets:[{id:"mhpp_140",dataset:"mhpp",huggingFace:{id:"laylarsssss/FusedMHPP",subset:"mhpp",split:"test"}},{id:"mhpp_210",dataset:"mhpp",huggingFace:{id:"laylarsssss/FusedMHPP",subset:"mhpp_210",split:"test"}}]},MiniF2F:{datasetType:"MiniF2FLean4Dataset",datasets:[{id:"minif2f_lean4_test",dataset:"minif2f_lean4_test",huggingFace:{id:"laylarsssss/FusedMHPP",split:"test"}},{id:"minif2f_lean4_valid",dataset:"minif2f_lean4_valid",huggingFace:{id:"laylarsssss/FusedMHPP",split:"test"}}]},MultipleHumanEval:{datasetType:"MultiPLEDataset",datasets:[{id:"humaneval_cpp",dataset:"multiple_cpp",huggingFace:{id:"nuprl/MultiPL-E",subset:"humaneval-cpp",split:"test"}},{id:"humaneval_typescript",dataset:"multiple_typescript",huggingFace:{id:"nuprl/MultiPL-E",subset:"humaneval-ts",split:"test"}},{id:"humaneval_bash",dataset:"multiple_bash",huggingFace:{id:"nuprl/MultiPL-E",subset:"humaneval-sh",split:"test"}},{id:"humaneval_csharp",dataset:"multiple_csharp",huggingFace:{id:"nuprl/MultiPL-E",subset:"humaneval-cs",split:"test"}},{id:"humaneval_go",dataset:"multiple_go",huggingFace:{id:"nuprl/MultiPL-E",subset:"humaneval-go",split:"test"}},{id:"humaneval_java",dataset:"multiple_java",huggingFace:{id:"nuprl/MultiPL-E",subset:"humaneval-java",split:"test"}},{id:"humaneval_lua",dataset:"multiple_lua",huggingFace:{id:"nuprl/MultiPL-E",subset:"humaneval-lua",split:"test"}},{id:"humaneval_javascript",dataset:"multiple_javascript",huggingFace:{id:"nuprl/MultiPL-E",subset:"humaneval-js",split:"test"}},{id:"humaneval_php",dataset:"multiple_php",huggingFace:{id:"nuprl/MultiPL-E",subset:"humaneval-php",split:"test"}},{id:"humaneval_perl",dataset:"multiple_perl",huggingFace:{id:"nuprl/MultiPL-E",subset:"humaneval-pl",split:"test"}},{id:"humaneval_racket",dataset:"multiple_racket",huggingFace:{id:"nuprl/MultiPL-E",subset:"humaneval-rkt",split:"test"}},{id:"humaneval_r",dataset:"multiple_r",huggingFace:{id:"nuprl/MultiPL-E",subset:"humaneval-r",split:"test"}},{id:"humaneval_rust",dataset:"multiple_rust",huggingFace:{id:"nuprl/MultiPL-E",subset:"humaneval-rs",split:"test"}},{id:"humaneval_scala",dataset:"multiple_scala",huggingFace:{id:"nuprl/MultiPL-E",subset:"humaneval-scala",split:"test"}},{id:"humaneval_swift",dataset:"multiple_swift",huggingFace:{id:"nuprl/MultiPL-E",subset:"humaneval-swift",split:"test"}},{id:"humaneval_ruby",dataset:"multiple_ruby",huggingFace:{id:"nuprl/MultiPL-E",subset:"humaneval-ruby",split:"test"}},{id:"humaneval_d",dataset:"multiple_d",huggingFace:{id:"nuprl/MultiPL-E",subset:"humaneval-d",split:"test"}},{id:"humaneval_julia",dataset:"multiple_julia",huggingFace:{id:"nuprl/MultiPL-E",subset:"humaneval-jl",split:"test"}}]},MultipleMBPP:{datasetType:"MultiPLEDataset",datasets:[{id:"mbpp_cpp",dataset:"multiple_cpp",huggingFace:{id:"nuprl/MultiPL-E",subset:"mbpp-cpp",split:"test"}},{id:"mbpp_typescript",dataset:"multiple_typescript",huggingFace:{id:"nuprl/MultiPL-E",subset:"mbpp-ts",split:"test"}},{id:"mbpp_bash",dataset:"multiple_bash",huggingFace:{id:"nuprl/MultiPL-E",subset:"mbpp-sh",split:"test"}},{id:"mbpp_csharp",dataset:"multiple_csharp",huggingFace:{id:"nuprl/MultiPL-E",subset:"mbpp-cs",split:"test"}},{id:"mbpp_go",dataset:"multiple_go",huggingFace:{id:"nuprl/MultiPL-E",subset:"mbpp-go",split:"test"}},{id:"mbpp_java",dataset:"multiple_java",huggingFace:{id:"nuprl/MultiPL-E",subset:"mbpp-java",split:"test"}},{id:"mbpp_lua",dataset:"multiple_lua",huggingFace:{id:"nuprl/MultiPL-E",subset:"mbpp-lua",split:"test"}},{id:"mbpp_javascript",dataset:"multiple_javascript",huggingFace:{id:"nuprl/MultiPL-E",subset:"mbpp-js",split:"test"}},{id:"mbpp_php",dataset:"multiple_php",huggingFace:{id:"nuprl/MultiPL-E",subset:"mbpp-php",split:"test"}},{id:"mbpp_perl",dataset:"multiple_perl",huggingFace:{id:"nuprl/MultiPL-E",subset:"mbpp-pl",split:"test"}},{id:"mbpp_racket",dataset:"multiple_racket",huggingFace:{id:"nuprl/MultiPL-E",subset:"mbpp-rkt",split:"test"}},{id:"mbpp_r",dataset:"multiple_r",huggingFace:{id:"nuprl/MultiPL-E",subset:"mbpp-r",split:"test"}},{id:"mbpp_rust",dataset:"multiple_rust",huggingFace:{id:"nuprl/MultiPL-E",subset:"mbpp-rs",split:"test"}},{id:"mbpp_scala",dataset:"multiple_scala",huggingFace:{id:"nuprl/MultiPL-E",subset:"mbpp-scala",split:"test"}},{id:"mbpp_swift",dataset:"multiple_swift",huggingFace:{id:"nuprl/MultiPL-E",subset:"mbpp-swift",split:"test"}},{id:"mbpp_ruby",dataset:"multiple_ruby",huggingFace:{id:"nuprl/MultiPL-E",subset:"mbpp-ruby",split:"test"}},{id:"mbpp_d",dataset:"multiple_d",huggingFace:{id:"nuprl/MultiPL-E",subset:"mbpp-d",split:"test"}},{id:"mbpp_julia",dataset:"multiple_julia",huggingFace:{id:"nuprl/MultiPL-E",subset:"mbpp-jl",split:"test"}}]},CommonOJ:{datasetType:"CommonOJDataset",datasets:[{id:"code_contests_train",dataset:"code_contests_train",huggingFace:{id:"sine/FusedCodeContests",split:"train"}},{id:"code_contests_valid",dataset:"code_contests_valid",huggingFace:{id:"sine/FusedCodeContests",split:"valid"}},{id:"code_contests_test",dataset:"code_contests_test",huggingFace:{id:"sine/FusedCodeContests",split:"test"}}]},CRUXEval:{datasetType:"CruxEvalDataset",datasets:[{id:"cruxeval",dataset:"cruxeval",huggingFace:{id:"cruxeval-org/cruxeval",split:"test"}}]},CRUXEvalX:{datasetType:"CruxEvalDataset",datasets:[{id:"cruxeval_x_D_ut",dataset:"cruxeval_x",huggingFace:{id:"sine/FusedCRUXEvalX",subset:"D_ut",split:"test"}},{id:"cruxeval_x_R",dataset:"cruxeval_x",huggingFace:{id:"sine/FusedCRUXEvalX",subset:"R",split:"test"}},{id:"cruxeval_x_bash",dataset:"cruxeval_x",huggingFace:{id:"sine/FusedCRUXEvalX",subset:"bash",split:"test"}},{id:"cruxeval_x_cpp",dataset:"cruxeval_x",huggingFace:{id:"sine/FusedCRUXEvalX",subset:"cpp",split:"test"}},{id:"cruxeval_x_csharp",dataset:"cruxeval_x",huggingFace:{id:"sine/FusedCRUXEvalX",subset:"csharp",split:"test"}},{id:"cruxeval_x_go_test",dataset:"cruxeval_x",huggingFace:{id:"sine/FusedCRUXEvalX",subset:"go_test",split:"test"}},{id:"cruxeval_x_java",dataset:"cruxeval_x",huggingFace:{id:"sine/FusedCRUXEvalX",subset:"java",split:"test"}},{id:"cruxeval_x_julia",dataset:"cruxeval_x",huggingFace:{id:"sine/FusedCRUXEvalX",subset:"julia",split:"test"}},{id:"cruxeval_x_lua",dataset:"cruxeval_x",huggingFace:{id:"sine/FusedCRUXEvalX",subset:"lua",split:"test"}},{id:"cruxeval_x_nodejs",dataset:"cruxeval_x",huggingFace:{id:"sine/FusedCRUXEvalX",subset:"nodejs",split:"test"}},{id:"cruxeval_x_perl",dataset:"cruxeval_x",huggingFace:{id:"sine/FusedCRUXEvalX",subset:"perl",split:"test"}},{id:"cruxeval_x_php",dataset:"cruxeval_x",huggingFace:{id:"sine/FusedCRUXEvalX",subset:"php",split:"test"}},{id:"cruxeval_x_python",dataset:"cruxeval_x",huggingFace:{id:"sine/FusedCRUXEvalX",subset:"python",split:"test"}},{id:"cruxeval_x_racket",dataset:"cruxeval_x",huggingFace:{id:"sine/FusedCRUXEvalX",subset:"racket",split:"test"}},{id:"cruxeval_x_ruby",dataset:"cruxeval_x",huggingFace:{id:"sine/FusedCRUXEvalX",subset:"ruby",split:"test"}},{id:"cruxeval_x_rust",dataset:"cruxeval_x",huggingFace:{id:"sine/FusedCRUXEvalX",subset:"rust",split:"test"}},{id:"cruxeval_x_scala",dataset:"cruxeval_x",huggingFace:{id:"sine/FusedCRUXEvalX",subset:"scala",split:"test"}},{id:"cruxeval_x_swift",dataset:"cruxeval_x",huggingFace:{id:"sine/FusedCRUXEvalX",subset:"swift",split:"test"}},{id:"cruxeval_x_typescript",dataset:"cruxeval_x",huggingFace:{id:"sine/FusedCRUXEvalX",subset:"typescript",split:"test"}}]},NaturalCodeBench:{datasetType:"NaturalCodeBenchDataset",datasets:[{id:"ncb_python_zh",dataset:"ncb_python_zh",huggingFace:{id:"sine/FusedNaturalCodeBench",subset:"python_zh",split:"test"}},{id:"ncb_python_en",dataset:"ncb_python_en",huggingFace:{id:"sine/FusedNaturalCodeBench",subset:"python_en",split:"test"}},{id:"ncb_java_zh",dataset:"ncb_java_zh",huggingFace:{id:"sine/FusedNaturalCodeBench",subset:"java_zh",split:"test"}},{id:"ncb_java_en",dataset:"ncb_java_en",huggingFace:{id:"sine/FusedNaturalCodeBench",subset:"java_en",split:"test"}}]},PALMath:{datasetType:"PalMathDataset",datasets:[{id:"asdiv",dataset:"palmath",huggingFace:{id:"sine/FusedPALMath",subset:"asdiv",split:"test"}},{id:"gsm8k",dataset:"palmath",huggingFace:{id:"sine/FusedPALMath",subset:"gsm8k",split:"test"}},{id:"hard",dataset:"palmath",huggingFace:{id:"sine/FusedPALMath",subset:"hard",split:"test"}},{id:"math",dataset:"palmath",huggingFace:{id:"sine/FusedPALMath",subset:"math",split:"test"}},{id:"mawps",dataset:"palmath",huggingFace:{id:"sine/FusedPALMath",subset:"mawps",split:"test"}},{id:"svamp",dataset:"palmath",huggingFace:{id:"sine/FusedPALMath",subset:"svamp",split:"test"}},{id:"tabmwp",dataset:"palmath",huggingFace:{id:"sine/FusedPALMath",subset:"tabmwp",split:"test"}}]},VerilogEval:{datasetType:"PalMathDataset",datasets:[{id:"verilogeval_human",dataset:"verilogeval_human",huggingFace:{id:"sine/FusedVerilogEval",subset:"human",split:"test"}},{id:"verilogeval_machine",dataset:"verilogeval_machine",huggingFace:{id:"sine/FusedVerilogEval",subset:"machine",split:"test"}}]}},i={image:"volcengine/sandbox-fusion:server-20250609",cnImage:"vemlp-cn-beijing.cr.volces.com/preset-images/code-sandbox:server-20250609",host:"http://localhost:8080",datasets:a}}}]);